-- Script to make all players kneel
-- Place this script in a LocalScript

local players = game:GetService("Players")
local replicatedStorage = game:GetService("ReplicatedStorage")
local kneelEvent = replicatedStorage:WaitForChild("Events"):WaitForChild("Kneel")

-- Function to make a player kneel
local function makePlayerKneel(player)
    if player.Character then
        local args = {
            [1] = player.Character
        }
        kneelEvent:FireServer(unpack(args))
    end
end

-- Iterate through all players and make them kneel
for _, player in pairs(players:GetPlayers()) do
    makePlayerKneel(player)
end

-- Listen for new players joining and make them kneel
players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)
        makePlayerKneel(player)
    end)
end)
